<Window x:Class="KursovoiTuv.Views.ReportsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Отчеты" Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <TextBlock Grid.Row="0" Text="Формирование отчетов" 
                   FontSize="16" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- Период -->
        <Border Grid.Row="1" BorderBrush="LightGray" BorderThickness="1" 
                CornerRadius="5" Padding="10" Background="#F5F5F5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Период:" VerticalAlignment="Center" Margin="0,0,10,0"/>

                <DatePicker Grid.Column="1" SelectedDate="{Binding StartDate}"
                           Width="120" VerticalAlignment="Center"/>

                <TextBlock Grid.Column="2" Text="по" VerticalAlignment="Center" 
                          HorizontalAlignment="Center" Margin="10,0,10,0"/>

                <DatePicker Grid.Column="3" SelectedDate="{Binding EndDate}"
                           Width="120" VerticalAlignment="Center"/>

                <ComboBox Grid.Column="4" Width="150" VerticalAlignment="Center"
                         ItemsSource="{Binding ReportTypes}" 
                         SelectedItem="{Binding SelectedReportType}" Margin="10,0,0,0"/>
            </Grid>
        </Border>

        <!-- Кнопки управления -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
            <Button Content="Сформировать отчет" Command="{Binding GenerateCommand}"
                   Width="150" Height="30" Margin="0,0,10,0" Background="#4CAF50" 
                   Foreground="White" FontWeight="Bold"/>

            <Button Content="Экспорт в TXT" Command="{Binding ExportCommand}"
                   Width="120" Height="30" Margin="0,0,10,0" Background="#2196F3"
                   Foreground="White"/>

            <Button Content="Закрыть" Command="{Binding CloseCommand}"
                   Width="80" Height="30" Background="#9E9E9E" Foreground="White"/>
        </StackPanel>

        <!-- Область отчета -->
        <Border Grid.Row="3" BorderBrush="LightGray" BorderThickness="1" 
                CornerRadius="5" Margin="0,10,0,10" Background="White">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <TextBox Text="{Binding ReportText, Mode=OneWay}" 
                        IsReadOnly="True" BorderThickness="0" 
                        TextWrapping="Wrap" FontFamily="Consolas" 
                        FontSize="11" VerticalAlignment="Stretch"
                        HorizontalAlignment="Stretch"/>
            </ScrollViewer>
        </Border>

        <StatusBar Grid.Row="4">
            <StatusBarItem>
                <TextBlock Text="{Binding ReportStats}" FontWeight="SemiBold"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Text="Для экспорта нажмите 'Экспорт в TXT'"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>